<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
  <title>Take a picture!</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light" style="display: flex!important;-ms-flex-flow: row nowrap!important;
    flex-flow: row nowrap!important;
    -ms-flex-pack: start!important;
    justify-content: flex-start!important;">
    <a class="navbar-brand" href="/">Robot Controller</a>
    <div class="collapse navbar-collapse" style="display: flex!important;">
      <ul class="navbar-nav" style="flex-direction: row!important;">
        <li class="nav-item ">
          <a class="nav-link" href="/" style="padding-right: .5rem!important;
              padding-left: .5rem!important;">Home </a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/pictures" style="padding-right: .5rem!important;
              padding-left: .5rem!important;">Pictures <span class="sr-only">(current)</span></a>
        </li>
      </ul>
    </div>
    <img src="/assets/logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
  </nav>

  <img class="picture img-fluid" src="">
  <div
    style="display: flex; position: fixed; height: auto; width: 100vw; bottom: 0; justify-content: center; margin-bottom: 2%;">
    <button type="button" class="btn btn-outline-dark">Take a picture now!</button>
  </div>
</body>
<script>

  const socket = new WebSocket("ws://localhost:8080");

  socket.onopen = function (e) {
    alert("[open] Connection established");
    alert("Sending to server");
    socket.send("My name is John");
  };

  socket.onmessage = function (event) {
    alert(`[message] Data received from server: ${event.data}`);
  };

  socket.onclose = function (event) {
    if (event.wasClean) {
      alert(`[close] Connection closed cleanly, code=${event.code} reason=${event.reason}`);
    } else {
      alert('[close] Connection died');
    }
  };

  socket.onerror = function (error) {
    alert(`[error] ${error.message}`);
  };

  document.getElementsByClassName("btn").onclick = function () { socket.send("p"); };

</script>

</html>